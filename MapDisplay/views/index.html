<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Cola Heat</title>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #floating-panel {
        position: absolute;
        top: 10px;
        left: 25%;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
        text-align: center;
        font-family: 'Roboto','sans-serif';
        line-height: 30px;
        padding-left: 10px;
      }
      #floating-panel {
        background-color: #fff;
        border: 1px solid #999;
        left: 25%;
        padding: 5px;
        position: absolute;
        top: 10px;
        z-index: 5;
      }
    </style>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.3/angular.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.3/angular-route.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.min.js"></script>
  </head>
  <body>
    <div>
      <div>
      <nav class="navbar navbar-inverse" role="navigation" style="padding-left:130px;">
             <ul class="nav navbar-nav">
            <li class="active"><a href="/">ColaHeat<span class="sr-only">(current)</span></a></li>
            <li><a href="/about">About ColaHeat</a></li>
          </ul>
      </nav>
      </div>
      <br/>
      <div class="jumbotron">
        <p>
        &emsp; Columbia Heatmap based upon sentiment analysis based on local tweets
        </p>
      <canvas id="line-chart" width="100%" height="25"></canvas>
      <script type="text/javascript" src="/js/script.js"></script>
    </div>
    </div>
    <div id="map"></div>

    <script>

        $.get('/api/coordinates',function(data, status) {
          alert("Data: " + JSON.stringify(data) + "\nStatus: " + status);
        })

        var map, heatmap;

        function initMap() {
          map = new google.maps.Map(document.getElementById('map'), {
            zoom: 13,
            center: {lat: 34.000471, lng: -81.041786},
            mapTypeId: 'satellite'
          });

          heatmapPositive = new google.maps.visualization.HeatmapLayer({
            data: getPointPositive(),
            map: map
          });
          heatmapNegative = new google.maps.visualization.HeatmapLayer({
            data: getPointNegative(),
            map: map
          });
          var gradient = [
          'rgba(0, 255, 255, 0)',
          'rgba(0, 255, 255, 1)',
          'rgba(0, 191, 255, 1)',
          'rgba(0, 127, 255, 1)',
          'rgba(0, 63, 255, 1)',
          'rgba(0, 0, 255, 1)',
          'rgba(0, 0, 223, 1)',
          'rgba(0, 0, 191, 1)',
          'rgba(0, 0, 159, 1)',
          'rgba(0, 0, 127, 1)',
          'rgba(63, 0, 91, 1)',
          'rgba(127, 0, 63, 1)',
          'rgba(191, 0, 31, 1)',
          'rgba(255, 0, 0, 1)'
          ]
          heatmapNegative.set('gradient', heatmapNegative.get('gradient') ? null : gradient);
        }

        // Heatmap data: Positive
        function getPointPositive() {
          return [
            new google.maps.LatLng(34.000471, -81.041786),
          ];
        }
        // Heatmap data: Negative
        function getPointNegative() {
          return [
            new google.maps.LatLng(34.000141, -81.041776),
          ];
        }
    </script>

    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCdVSRyXPDYqYIXjQwY9qrgDjv_ayN9ZiY&libraries=visualization&callback=initMap">
    </script>

  </body>
</html>
